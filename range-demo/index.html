<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div contenteditable="true">
      abcd
      <span>efg</span>
      hijkl
      <span>lmn</span>
      opq
    </div>
  </body>
  <script>
    // 高级程序设计 333页 range
    // 完整介绍了setStartBefore setStartAfter setEndAfter  setEndBefore selectNode selectNodeContents setStart setEnd
    // range.cloneContents() range.deleteContents() range.insertNode() range.extractContents range.surroundContents range.collapse() range.collapsed
    const div = document.querySelector("div");
    const spans = div.querySelectorAll("span");
    // const span1 = spans[0];
    // const span2 = spans[1];
    const range = document.createRange();
    range.setStartAfter(div.lastChild);
    range.setEndAfter(div.lastChild);

    // range.deleteContents();
    // const el = document.createElement("div");
    // el.innerHTML = "<span>test</span>";
    // range.insertNode(el);
    // range.setStartBefore(span1);
    // range.setEndBefore(span2);
    // range.selectNodeContents(span1);
    console.dir(range);
    console.log(range.cloneContents());
    document.getSelection().removeAllRanges();
    document.getSelection().addRange(range);
  </script>
</html>
